package poker;

import java.util.Random;
import java.util.Scanner;

public class PokerDriver 
{
	public static void main(String[] args)
	{
		//variables
		int randomNum;
		int randomNum2;
		int randomNum3;
		int bet = 5;
		int comBet = 5;
		int moneyPot = 0;
		int yourScore = 0;
		int comScore = 0;
		boolean computerBet;
		boolean bool = true;
		
		//Random numbers for Your Hand
		Random rnd = new Random();
		randomNum = (rnd.nextInt(10) + 1);
		randomNum2 = (rnd.nextInt(10) + 1);
		
		//Sets the money
		Money myMoney = new Money(30);
		Money comMoney = new Money(30);
		
		//Starting Hands
		StartingHand myHand = new StartingHand(5, 5);
		//Random Numbers for computer Starting hand
		randomNum = (rnd.nextInt(10) + 1);
		randomNum2 = (rnd.nextInt(10) + 1);
		StartingHand comHand = new StartingHand(1, 5);
		
		CheckHand checkMyStartingHand = new CheckHand(myHand.getFirstCardHand(), myHand.getSecondCardHand());
		CheckHand checkComStartingHand = new CheckHand(comHand.getFirstCardHand(), comHand.getSecondCardHand());
		yourScore += checkMyStartingHand.getScore();
		comScore += checkComStartingHand.getScore();
		
		ComputerPlayer comPlayer = new ComputerPlayer(comScore);
		
		Scanner input = new Scanner(System.in);
		System.out.println("Entry is 5 dollars");
		bet = input.nextInt();
		
		System.out.println(myHand.toString());
		System.out.println(comHand.toString());
		
		//Gets your bet and adds it to the pot
		System.out.println("Enter your bet");
		bet = input.nextInt();
		
		BetMoney myBet = new BetMoney(bet);
		moneyPot += bet;
		
		//Computer decides to fold or bet
		comPlayer.setComBet(0);
		comPlayer.setComScore(comScore);
		computerBet = comPlayer.checkComBet();
		System.out.println("Check " + comPlayer.getComBet());
		comBet = comPlayer.getComBet();
		moneyPot += comPlayer.getComBet();
		
		
		
		//Flop Card Draw
		if(myBet.checkBet())
		{
			randomNum = (rnd.nextInt(10) + 1);
			randomNum2 = (rnd.nextInt(10) + 1);
			randomNum3 = (rnd.nextInt(10) + 1);
			comMoney.setMoney(comMoney.getMoney() - comBet);
			myMoney.setMoney(myMoney.getMoney() - bet);
			System.out.println("Money: " + myMoney.getMoney());
			System.out.println("Computer Money: " + comMoney.getMoney());
			DrawCard flop = new DrawCard(2, 3, 6);
			System.out.println(flop.toString());
			CheckHand checkMyHand = new CheckHand(myHand.getHand(), flop.getFlop());
			CheckHand checkComHand = new CheckHand(comHand.getHand(), flop.getFlop());
			checkMyHand.checkScoreFlop();
			checkComHand.checkScoreFlop();
			
			yourScore += checkMyHand.getScore();
			comScore += checkComHand.getScore();
			
//			System.out.println(checkMyHand.getScore());
//			System.out.println(checkComHand.getScore());
		}
		
		//Computer decides to fold or bet
		comPlayer.setComBet(0);
		comPlayer.setComScore(comScore);
		computerBet = comPlayer.checkComBet();
		System.out.println("Check " + comPlayer.getComBet());
		comBet = comPlayer.getComBet();
		moneyPot += comPlayer.getComBet();
		
		//Checks if computer folded
		if(computerBet)
		{
			System.out.println("Enter your bet");
			bet = input.nextInt();
		
			myBet.setBet(bet);
		
			moneyPot += bet;
		}
		
		//Draw Turn Card if you betted
		if(myBet.checkBet() && computerBet)
		{
			if(bet == comPlayer.getComBet())
			{
				randomNum = (rnd.nextInt(10) + 1);
				myMoney.setMoney(myMoney.getMoney() - bet);
				comMoney.setMoney(comMoney.getMoney() - comPlayer.getComBet());
				DrawCard turn = new DrawCard(8);
				System.out.println("Turn: " + turn.toString());
				System.out.println("Money: " + myMoney.getMoney());
				System.out.println("Computer Money: " + comMoney.getMoney());
				CheckHand checkMyHand = new CheckHand(myHand.getHand(), turn.getCard());
				CheckHand checkComHand = new CheckHand(comHand.getHand(), turn.getCard());
				checkMyHand.checkScoreTurn();
				checkComHand.checkScoreTurn();
			
				yourScore += checkMyHand.getScore();
				comScore += checkComHand.getScore();
			}
			//checks to see if you betted the same amount
			else
			{
				int temp = comPlayer.getComBet() - bet;
				while(bool)
				{
					if(bet != comPlayer.getComBet())
					{
						System.out.println("Your opponent entered a higher bet put " + temp + " more dollars");
						bet += input.nextInt();
						
						if(bet < temp)
						{
							bet = bet - bet;
						}
						else
						{
							randomNum = (rnd.nextInt(10) + 1);
							myMoney.setMoney(myMoney.getMoney() - bet);
							comMoney.setMoney(comMoney.getMoney() - comPlayer.getComBet());
							DrawCard turn = new DrawCard(8);
							System.out.println("Turn: " + turn.toString());
							System.out.println("Money: " + myMoney.getMoney());
							System.out.println("Computer Money: " + comMoney.getMoney());
							CheckHand checkMyHand = new CheckHand(myHand.getHand(), turn.getCard());
							CheckHand checkComHand = new CheckHand(comHand.getHand(), turn.getCard());
							checkMyHand.checkScoreTurn();
							checkComHand.checkScoreTurn();
						
							yourScore += checkMyHand.getScore();
							comScore += checkComHand.getScore();
			
							myBet.setBet(bet);
							myMoney.setMoney(myMoney.getMoney() - bet);
			
							moneyPot += bet;
						}
					}
					else
					{
						bool = false;
					}
				}
			}
		}
		
		//Computer decides to fold or bet
		if(computerBet)
		{
			comPlayer.setComBet(0);
			comPlayer.setComScore(comScore);
//			comPlayer.comBet();
			computerBet = comPlayer.checkComBet();
			System.out.println("Check " + comPlayer.getComBet());
			moneyPot += comPlayer.getComBet();
		}
		
		//checks if computer betted to know to continue
		if(computerBet)
		{
			System.out.println("Enter your bet");
			bet = input.nextInt();
		
			myBet.setBet(bet);
		
			moneyPot += bet;
		}
		
		//checks if you betted for River card
		if(myBet.checkBet() && computerBet)
		{
			randomNum = (rnd.nextInt(10) + 1);
			myMoney.setMoney(myMoney.getMoney() - bet);
			comMoney.setMoney(comMoney.getMoney() - comPlayer.getComBet());
			DrawCard turn = new DrawCard(9);
			System.out.println("River: " + turn.toString());
			System.out.println("Money: " + myMoney.getMoney());
			System.out.println("Computer Money: " + comMoney.getMoney());
			CheckHand checkMyHand = new CheckHand(myHand.getHand(), turn.getCard());
			CheckHand checkComHand = new CheckHand(comHand.getHand(), turn.getCard());
			checkMyHand.checkScoreTurn();
			checkComHand.checkScoreTurn();
			
			yourScore += checkMyHand.getScore();
			comScore += checkComHand.getScore();
			
//			System.out.println(yourScore);
//			System.out.println(comScore);
		}
		
		//Computer decides to fold or bet
		if(computerBet)
		{
			comPlayer.setComBet(0);
			comPlayer.setComScore(comScore);
//			comPlayer.comBet();
			computerBet = comPlayer.checkComBet();
			
			System.out.println("Check " + comPlayer.getComBet());
			moneyPot += comPlayer.getComBet();
			comMoney.setMoney(comMoney.getMoney() - comPlayer.getComBet());
		}
				
		//checks if computer betted to know to continue
		if(computerBet)
		{
			System.out.println("Enter your bet");
			bet = input.nextInt();
			
			myBet.setBet(bet);
				
			moneyPot += bet;
			myMoney.setMoney(myMoney.getMoney() - bet);
		}
		
		System.out.println("Money pot: " + moneyPot);
		
		//you win because opponent folded
		if(myBet.checkBet() && computerBet == false)
		{
			myMoney.setMoney(myMoney.getMoney() + moneyPot);
			System.out.println("Oppenent folded you win " + moneyPot);
			System.out.println("Total Money is " + myMoney.getMoney());
		}
		
		//opponent wins because you folded
		if(myBet.checkBet() == false && computerBet)
		{
			comMoney.setMoney(comMoney.getMoney() + moneyPot);
			System.out.println("You lose " + moneyPot);
			System.out.println("Total Money computer money " + comMoney.getMoney());
		}
		else if(yourScore > comScore)
		{
			myMoney.setMoney(myMoney.getMoney() + moneyPot);
			System.out.println("You win " + moneyPot);
			System.out.println("Total Money is " + myMoney.getMoney());
		}
		else
		{
			comMoney.setMoney(comMoney.getMoney() + moneyPot);
			System.out.println("You lose " + moneyPot);
			System.out.println("Total Money computer money " + comMoney.getMoney());
		}
		
	}
}
